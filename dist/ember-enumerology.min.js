/*! ember-enumerology - v0.2.0 - 2013-09-12
* https://github.com/jamesotron/ember-enumerology
* Copyright (c) 2013 James Harton; Licensed MIT */
(function(){}).call(this),function(){window.Enumerology=Em.Namespace.create({VERSION:"0.2.0",create:function(a){return Enumerology.Pipeline.create({dependentKey:a})}})}.call(this),function(){var a,b,c,d=[].slice;b=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},a=function(a,b){if(!b)throw new Error(a)},c=Em.Object.extend({init:function(){return this._super(),this.getEach=this.mapBy,this.mapProperty=this.mapBy,this.size=this.length,this.set("transformations",[])},finalize:function(){var b,c,e;return b=this.get("dependentKey"),a("Must have a dependent key",!Em.isEmpty(b)),e=this.get("transformations"),a("Must have at least one transformation applied",e.get("length")>0),c=e.map(function(a){return""+b+a.get("dependencies")}).uniq(),Ember.computed.apply(Ember,d.call(c).concat([function(){var a;return a=this.get(b),e.forEach(function(b){return a=b.apply(this,a)}),a}]))},any:function(a){return this._addTransformation("any",{callback:a})},anyBy:function(a,b){return null==b&&(b=null),this._addTransformation("anyBy",{key:a,value:b})},compact:function(){return this._addTransformation("compact",{})},contains:function(a){return this._addTransformation("contains",{obj:a})},every:function(a,b){return null==b&&(b=null),this._addTransformation("every",{callback:a,target:b})},everyBy:function(a,b){return null==b&&(b=null),this._addTransformation("everyBy",{key:a,value:b})},filter:function(a,b){return null==b&&(b=null),this._addTransformation("filter",{callback:a,target:b})},filterBy:function(a,b){return null==b&&(b=null),this._addTransformation("filterBy",{key:a,value:b})},find:function(a,b){return null==b&&(b=null),this._addTransformation("find",{callback:a,target:b})},findBy:function(a,b){return null==b&&(b=null),this._addTransformation("findBy",{key:a,value:b})},first:function(){return this._addTransformation("first")},invoke:function(){var a,b;return b=arguments[0],a=2<=arguments.length?d.call(arguments,1):[],this._addTransformation("invoke",{methodName:b,args:a})},join:function(a){return null==a&&(a=" "),this._addTransformation("join",{separator:a})},last:function(){return this._addTransformation("last")},length:function(){return this._addTransformation("length")},map:function(a,b){return null==b&&(b=null),this._addTransformation("map",{callback:a,target:b})},mapBy:function(a){return this._addTransformation("mapBy",{key:a})},reduce:function(a,b){return this._addTransformation("reduce",{callback:a,initialValue:b})},reject:function(a,b){return null==b&&(b=null),this._addTransformation("reject",{callback:a,target:b})},rejectBy:function(a,b){return null==b&&(b=null),this._addTransformation("rejectBy",{key:a,value:b})},reverse:function(){return this._addTransformation("reverse")},setEach:function(a,b){return this._addTransformation("setEach",{key:a,value:b})},slice:function(a,b){return null==b&&(b=null),this._addTransformation("slice",{begin:a,end:b})},sort:function(a){return null==a&&(a=void 0),this._addTransformation("sort",{compareFunction:a})},sortBy:function(a,b){return null==b&&(b=void 0),this._addTransformation("sortBy",{key:a,compareFunction:b})},take:function(a){return this._addTransformation("take",{howMany:a})},toSentence:function(a,b){return null==a&&(a="and"),null==b&&(b=!1),this._addTransformation("toSentence",{conjunction:a,oxfordComma:b})},uniq:function(){return this._addTransformation("uniq")},without:function(a){return this._addTransformation("without",{value:a})},_addTransformation:function(a,c){return null==c&&(c={}),this.get("transformations").addObject(Enumerology.Transform[b(a)].create(c)),this}}),Enumerology.Pipeline=c}.call(this),function(){Enumerology.Transform=Em.Object.extend({dependencies:".[]"})}.call(this),function(){Enumerology.TransformBy=Enumerology.Transform.extend({dependencies:function(){return".@each."+this.get("key")}.property("key")})}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.any(this.get("callback"),this.getWithDefault("target",a))}}),Enumerology.Transform.Any=a}.call(this),function(){var a;a=Enumerology.TransformBy.extend({apply:function(a,b){return b.anyBy(this.get("key"),this.get("value"))}}),Enumerology.Transform.AnyBy=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.compact()}}),Enumerology.Transform.Compact=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.contains(this.get("obj"))}}),Enumerology.Transform.Contains=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.every(this.get("callback"),this.getWithDefault("target",a))}}),Enumerology.Transform.Every=a}.call(this),function(){var a;a=Enumerology.TransformBy.extend({apply:function(a,b){return b.everyBy(this.get("key"),this.get("value"))}}),Enumerology.Transform.EveryBy=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.filter(this.get("callback"),this.getWithDefault("target",a))}}),Enumerology.Transform.Filter=a}.call(this),function(){var a;a=Enumerology.TransformBy.extend({apply:function(a,b){return b.filterBy(this.get("key"),this.get("value"))}}),Enumerology.Transform.FilterBy=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.find(this.get("callback"),this.getWithDefault("target",a))}}),Enumerology.Transform.Find=a}.call(this),function(){var a;a=Enumerology.TransformBy.extend({apply:function(a,b){return b.findBy(this.get("key"),this.get("value"))}}),Enumerology.Transform.FindBy=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.get("firstObject")}}),Enumerology.Transform.First=a}.call(this),function(){var a,b=[].slice;a=Enumerology.Transform.extend({apply:function(a,c){return c.invoke.apply(c,[this.get("methodName")].concat(b.call(this.getWithDefault("args",[]))))}}),Enumerology.Transform.Invoke=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.join(this.get("separator"))}}),Enumerology.Transform.Join=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.get("lastObject")}}),Enumerology.Transform.Last=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.get("length")}}),Enumerology.Transform.Length=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.map(this.get("callback"),this.getWithDefault("target",a))}}),Enumerology.Transform.Map=a}.call(this),function(){var a;a=Enumerology.TransformBy.extend({apply:function(a,b){return b.mapBy(this.get("key"))}}),Enumerology.Transform.MapBy=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.reduce(this.get("callback"),this.get("initialValue"))}}),Enumerology.Transform.Reduce=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.reject(this.get("callback"),this.getWithDefault("target",a))}}),Enumerology.Transform.Reject=a}.call(this),function(){var a;a=Enumerology.TransformBy.extend({apply:function(a,b){return b.rejectBy(this.get("key"),this.get("value"))}}),Enumerology.Transform.RejectBy=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.slice(0).reverse()}}),Enumerology.Transform.Reverse=a}.call(this),function(){var a;a=Enumerology.TransformBy.extend({apply:function(a,b){return b.setEach(this.get("key"),this.get("value")),b}}),Enumerology.Transform.SetEach=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){var c,d;return c=this.get("begin"),d=this.get("end"),Em.isEmpty(d)?b.slice(c):b.slice(c,d)}}),Enumerology.Transform.Slice=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){var c;return c=this.get("compareFunction"),Em.isEmpty(c)?b.slice(0).sort():b.slice(0).sort(this.get("compareFunction"))}}),Enumerology.Transform.Sort=a}.call(this),function(){var a,b;a=function(a,b){var c,d;return c=a.toString(),d=b.toString(),c===d?0:c>d?1:d>c?-1:void 0},b=Enumerology.TransformBy.extend({apply:function(b,c){var d,e;return d=this.getWithDefault("compareFunction",a),e=this.get("key"),c.slice(0).sort(function(a,b){return d(a.get(e),b.get(e))})}}),Enumerology.Transform.SortBy=b}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.slice(0,this.get("howMany"))}}),Enumerology.Transform.Take=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){var c,d,e,f;return e=b.slice(0,-1),d=b.slice(-1),c=this.get("conjunction"),f=this.get("oxfordComma")?",":"",""+e.join(", ")+f+" "+c+" "+d}}),Enumerology.Transform.ToSentence=a}.call(this),function(){var a;a=Enumerology.Transform.extend({apply:function(a,b){return b.uniq(this.get("value"))}}),Enumerology.Transform.Uniq=a}.call(this),function(){var a;a=Enumerology.Transform.extend(),Enumerology.Transform.Without=a}.call(this);